<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Estatísticas do Jogo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    * {
      box-sizing: border-box;
      font-family: Arial, sans-serif;
    }

    body {
      background: #f4f4f4;
      margin: 0;
      padding: 0;
    }

    .container {
      max-width: 600px;
      margin: 30px auto;
      padding: 20px;
      background: #fff;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
    }

    .placar {
      display: flex;
      justify-content: space-between;
      margin-top: 20px;
    }

    .time {
      width: 48%;
      text-align: center;
    }

    .time span {
      display: block;
      font-weight: bold;
      font-size: 20px;
    }

    .timeline {
      margin-top: 30px;
      background: #f9f9f9;
      padding: 10px;
      border-radius: 6px;
    }

    .timeline strong {
      display: block;
      margin-bottom: 10px;
    }

    .timeline p {
      background: #e3f2fd;
      padding: 8px;
      border-radius: 4px;
      margin: 5px 0;
    }

    .jogadores {
      margin-top: 20px;
    }

    .jogadores ul {
      padding-left: 20px;
    }

    .jogadores li {
      margin-bottom: 5px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Estatísticas do Jogo</h1>

    <div class="placar">
      <div class="time">
        <span id="nomeTimeA">Time A</span>
        <div id="golsA">0</div>
      </div>
      <div class="time">
        <span id="nomeTimeB">Time B</span>
        <div id="golsB">0</div>
      </div>
    </div>

    <div class="timeline">
      <strong>Linha do Tempo:</strong>
      <div id="linhaTempo"></div>
    </div>

    <div class="jogadores">
      <strong>Jogadores do Seu Time:</strong>
      <ul id="lista-jogadores"></ul>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyAPl07E20-ROibk9ps5bmxOglGV3BNfbPo",
      authDomain: "estatistica-jogo-amistoso.firebaseapp.com",
      projectId: "estatistica-jogo-amistoso",
      storageBucket: "estatistica-jogo-amistoso.appspot.com",
      messagingSenderId: "929137267944",
      appId: "1:929137267944:web:04110e9485409dbd73389c",
      databaseURL: "https://estatistica-jogo-amistoso-default-rtdb.firebaseio.com/"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    const nomeA = document.getElementById('nomeTimeA');
    const nomeB = document.getElementById('nomeTimeB');
    const golsA = document.getElementById('golsA');
    const golsB = document.getElementById('golsB');
    const linhaTempo = document.getElementById('linhaTempo');
    const listaJogadores = document.getElementById('lista-jogadores');

    db.ref("jogoAtual").on("value", snapshot => {
      const data = snapshot.val();
      if (data) {
        nomeA.textContent = data.timeA || "Time A";
        nomeB.textContent = data.timeB || "Time B";
        golsA.textContent = data.golsA ?? 0;
        golsB.textContent = data.golsB ?? 0;

        linhaTempo.innerHTML = '';
        if (Array.isArray(data.estatisticas)) {
          data.estatisticas.forEach(item => {
            const p = document.createElement('p');
            p.textContent = item;
            linhaTempo.appendChild(p);
          });
        }

        listaJogadores.innerHTML = '';
        if (Array.isArray(data.jogadores)) {
          data.jogadores.forEach(j => {
            const li = document.createElement('li');
            li.textContent = j;
            listaJogadores.appendChild(li);
          });
        }
      }
    });
  </script>
</body>
</html>